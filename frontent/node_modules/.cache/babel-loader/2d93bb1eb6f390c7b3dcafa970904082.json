{"ast":null,"code":"var _jsxFileName = \"/Users/ilyayelagov/webprojects/mpp_bare/frontent/src/View/DishView.jsx\";\nimport * as React from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport { endpoints } from \"../connection/endpoints\";\nimport { RestRequest } from \"../connection/requests\";\nimport { AuthContext } from \"../AuthProvider\";\nimport { withRouter } from \"react-router-dom\";\nimport { Routes } from \"../connection/routes\";\nconst backColor = \"#dddfe7\";\nconst buttonStyle = {\n  \"borderRadius\": \"15px\",\n  \"background\": backColor,\n  \"boxShadow\": \"15px 15px 30px #bcbec4, \" + \" -15px -15px 30px #feffff\",\n  \"margin-top\": \"60\"\n};\n\nclass DishView extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.delete = () => {\n      RestRequest.delete(endpoints.deleteNews(this.props.dish['_id'])).then(response => {\n        this.props.deleteOne(this.props.dish);\n      }).catch(reason => {\n        if (reason.response.status === 401 || reason.response.status === 403) this.props.history.push(Routes.login);\n      });\n    };\n\n    this.like = () => {\n      if (this.context.currentUser) {\n        let dish = this.props.dish;\n        dish.rating++;\n        RestRequest.put(endpoints.putDish(this.props.dish['_id']), {}, dish).then(response => {\n          let dish = this.state.dish;\n          dish.rating = response.data.payload.rating;\n          this.setState(dish);\n        }).catch(reason => {\n          if (reason.response.status === 401 || reason.response.status === 403) this.props.history.push(Routes.login);\n        });\n      }\n    };\n\n    this.state = {\n      dish: props.dish\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Box, {\n      m: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      style: buttonStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      title: this.props.dish.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      color: \"textSecondary\",\n      component: \"p\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 25\n      }\n    }, this.props.dish.description)), /*#__PURE__*/React.createElement(CardActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: this.like,\n      \"aria-label\": \"Like\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FavoriteIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Typography, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 25\n      }\n    }, this.props.dish.rating), this.context.currentUser ? /*#__PURE__*/React.createElement(Button, {\n      onClick: this.delete,\n      variant: \"contained\",\n      color: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 33\n      }\n    }, \"Delete\") : /*#__PURE__*/React.createElement(React.Fragment, null))));\n  }\n\n}\n\nDishView.contextType = AuthContext;\nexport default withRouter(DishView);","map":{"version":3,"sources":["/Users/ilyayelagov/webprojects/mpp_bare/frontent/src/View/DishView.jsx"],"names":["React","Card","CardHeader","CardContent","Box","Typography","CardActions","Button","IconButton","FavoriteIcon","endpoints","RestRequest","AuthContext","withRouter","Routes","backColor","buttonStyle","DishView","Component","constructor","props","delete","deleteNews","dish","then","response","deleteOne","catch","reason","status","history","push","login","like","context","currentUser","rating","put","putDish","state","data","payload","setState","render","name","description","contextType"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,SAAQC,SAAR,QAAwB,yBAAxB;AACA,SAAQC,WAAR,QAA0B,wBAA1B;AACA,SAAQC,WAAR,QAA0B,iBAA1B;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,SAAQC,MAAR,QAAqB,sBAArB;AAEA,MAAMC,SAAS,GAAG,SAAlB;AACA,MAAMC,WAAW,GAAG;AAChB,kBAAe,MADC;AAEhB,gBAAaD,SAFG;AAGhB,eAAY,6BACR,2BAJY;AAKhB,gBAAc;AALE,CAApB;;AAQA,MAAME,QAAN,SAAuBjB,KAAK,CAACkB,SAA7B,CAAuC;AACnCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAKnBC,MALmB,GAKV,MAAM;AACXV,MAAAA,WAAW,CAACU,MAAZ,CAAmBX,SAAS,CAACY,UAAV,CAAqB,KAAKF,KAAL,CAAWG,IAAX,CAAgB,KAAhB,CAArB,CAAnB,EAAiEC,IAAjE,CAAuEC,QAAD,IAAc;AAChF,aAAKL,KAAL,CAAWM,SAAX,CAAqB,KAAKN,KAAL,CAAWG,IAAhC;AACH,OAFD,EAEGI,KAFH,CAESC,MAAM,IAAI;AACf,YAAIA,MAAM,CAACH,QAAP,CAAgBI,MAAhB,KAA2B,GAA3B,IAAkCD,MAAM,CAACH,QAAP,CAAgBI,MAAhB,KAA2B,GAAjE,EAAsE,KAAKT,KAAL,CAAWU,OAAX,CAAmBC,IAAnB,CAAwBjB,MAAM,CAACkB,KAA/B;AACzE,OAJD;AAKH,KAXkB;;AAAA,SAanBC,IAbmB,GAaZ,MAAM;AACT,UAAI,KAAKC,OAAL,CAAaC,WAAjB,EAA8B;AAC1B,YAAIZ,IAAI,GAAG,KAAKH,KAAL,CAAWG,IAAtB;AACAA,QAAAA,IAAI,CAACa,MAAL;AACAzB,QAAAA,WAAW,CAAC0B,GAAZ,CAAgB3B,SAAS,CAAC4B,OAAV,CAAkB,KAAKlB,KAAL,CAAWG,IAAX,CAAgB,KAAhB,CAAlB,CAAhB,EAA2D,EAA3D,EAA+DA,IAA/D,EAAqEC,IAArE,CAA0EC,QAAQ,IAAI;AAClF,cAAIF,IAAI,GAAG,KAAKgB,KAAL,CAAWhB,IAAtB;AACAA,UAAAA,IAAI,CAACa,MAAL,GAAcX,QAAQ,CAACe,IAAT,CAAcC,OAAd,CAAsBL,MAApC;AACA,eAAKM,QAAL,CAAcnB,IAAd;AACH,SAJD,EAIGI,KAJH,CAISC,MAAM,IAAI;AACf,cAAIA,MAAM,CAACH,QAAP,CAAgBI,MAAhB,KAA2B,GAA3B,IAAkCD,MAAM,CAACH,QAAP,CAAgBI,MAAhB,KAA2B,GAAjE,EAAsE,KAAKT,KAAL,CAAWU,OAAX,CAAmBC,IAAnB,CAAwBjB,MAAM,CAACkB,KAA/B;AACzE,SAND;AAOH;AAEJ,KA1BkB;;AAEf,SAAKO,KAAL,GAAa;AAAChB,MAAAA,IAAI,EAAEH,KAAK,CAACG;AAAb,KAAb;AACH;;AAyBDoB,EAAAA,MAAM,GAAG;AACL,wBACI,oBAAC,GAAD;AAAK,MAAA,CAAC,EAAE,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE3B,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,UAAD;AAAY,MAAA,KAAK,EAAE,KAAKI,KAAL,CAAWG,IAAX,CAAgBqB,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAC,OAApB;AAA4B,MAAA,KAAK,EAAC,eAAlC;AAAkD,MAAA,SAAS,EAAC,GAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKxB,KAAL,CAAWG,IAAX,CAAgBsB,WADrB,CADJ,CAFJ,eAOI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAE,KAAKZ,IAA1B;AAAgC,oBAAW,MAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,eAII,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKb,KAAL,CAAWG,IAAX,CAAgBa,MADrB,CAJJ,EAQQ,KAAKF,OAAL,CAAaC,WAAb,gBAEI,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,KAAKd,MAAtB;AAA8B,MAAA,OAAO,EAAC,WAAtC;AAAkD,MAAA,KAAK,EAAC,WAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,gBAMI,yCAdZ,CAPJ,CADJ,CADJ;AAgCH;;AA9DkC;;AAiEvCJ,QAAQ,CAAC6B,WAAT,GAAuBlC,WAAvB;AACA,eAAeC,UAAU,CAACI,QAAD,CAAzB","sourcesContent":["import * as React from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport {endpoints} from \"../connection/endpoints\";\nimport {RestRequest} from \"../connection/requests\";\nimport {AuthContext} from \"../AuthProvider\";\nimport {withRouter} from \"react-router-dom\";\nimport {Routes} from \"../connection/routes\";\n\nconst backColor = \"#dddfe7\"\nconst buttonStyle = {\n    \"borderRadius\":\"15px\",\n    \"background\":backColor,\n    \"boxShadow\":\"15px 15px 30px #bcbec4, \" +\n        \" -15px -15px 30px #feffff\",\n    \"margin-top\": \"60\"\n};\n\nclass DishView extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {dish: props.dish};\n    }\n\n    delete = () => {\n        RestRequest.delete(endpoints.deleteNews(this.props.dish['_id'])).then((response) => {\n            this.props.deleteOne(this.props.dish);\n        }).catch(reason => {\n            if (reason.response.status === 401 || reason.response.status === 403) this.props.history.push(Routes.login);\n        });\n    };\n\n    like = () => {\n        if (this.context.currentUser) {\n            let dish = this.props.dish;\n            dish.rating++;\n            RestRequest.put(endpoints.putDish(this.props.dish['_id']), {}, dish).then(response => {\n                let dish = this.state.dish;\n                dish.rating = response.data.payload.rating;\n                this.setState(dish);\n            }).catch(reason => {\n                if (reason.response.status === 401 || reason.response.status === 403) this.props.history.push(Routes.login);\n            });\n        }\n\n    };\n\n    render() {\n        return (\n            <Box m={1}>\n                <Card style={buttonStyle}>\n                    <CardHeader title={this.props.dish.name}/>\n                    <CardContent>\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                            {this.props.dish.description}\n                        </Typography>\n                    </CardContent>\n                    <CardActions>\n                        <IconButton onClick={this.like} aria-label=\"Like\">\n                            <FavoriteIcon/>\n                        </IconButton>\n                        <Typography>\n                            {this.props.dish.rating}\n                        </Typography>\n                        {\n                            this.context.currentUser\n                                ?\n                                <Button onClick={this.delete} variant='contained' color='secondary'>\n                                    Delete\n                                </Button>\n                                :\n                                <></>\n                        }\n\n                    </CardActions>\n                </Card>\n            </Box>\n\n        )\n\n    }\n}\n\nDishView.contextType = AuthContext;\nexport default withRouter(DishView);\n"]},"metadata":{},"sourceType":"module"}