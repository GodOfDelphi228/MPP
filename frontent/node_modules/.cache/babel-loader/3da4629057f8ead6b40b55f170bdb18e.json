{"ast":null,"code":"var _jsxFileName = \"/Users/ilyayelagov/webprojects/mpp_bare/frontent/src/View/DishView.jsx\";\nimport * as React from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport Button from \"@material-ui/core/Button\";\nimport { endpoints } from \"../connection/endpoints\";\nimport { RestRequest } from \"../connection/requests\";\nimport { AuthContext } from \"../AuthProvider\";\nimport { withRouter } from \"react-router-dom\";\nimport { Routes } from \"../connection/routes\";\nconst backColor = \"#E0E5EC\";\nconst cardStyle = {\n  \"borderRadius\": \"7%\",\n  \"background\": backColor,\n  \"boxShadow\": \"10px 10px 30px #bcbec4, \" + \" -10px -10px 30px #feffff\",\n  \"margin-top\": \"60px\"\n};\nconst imageStyle = {\n  \"maxWidth\": \"70%\",\n  \"borderRadius\": \"15px\",\n  \"background\": backColor,\n  \"boxShadow\": \"15px 15px 30px #bcbec4, \" + \" -15px -15px 30px #feffff\"\n};\n\nclass DishView extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.detail = () => {\n      this.props.history.push(Routes.dish);\n    };\n\n    this.delete = () => {\n      RestRequest.delete(endpoints.deleteDish(this.props.dish['_id'])).then(response => {\n        this.props.deleteOne(this.props.dish);\n      }).catch(reason => {\n        if (reason.response.status === 401 || reason.response.status === 403) this.props.history.push(Routes.login);\n      });\n    };\n\n    this.increasePrice = () => {\n      if (this.context.currentUser) {\n        let dish = this.props.dish;\n        dish.price++;\n        RestRequest.put(endpoints.putDish(this.props.dish['_id']), {}, dish).then(response => {\n          let dish = this.state.dish;\n          dish.price = response.data.payload.price;\n          this.setState(dish);\n        }).catch(reason => {\n          if (reason.response.status === 401 || reason.response.status === 403) this.props.history.push(Routes.login);\n        });\n      }\n    };\n\n    this.decreasePrice = () => {\n      if (this.context.currentUser) {\n        let dish = this.props.dish;\n        dish.price--;\n        RestRequest.put(endpoints.putDish(this.props.dish['_id']), {}, dish).then(response => {\n          let dish = this.state.dish;\n          dish.price = response.data.payload.price;\n          this.setState(dish);\n        }).catch(reason => {\n          if (reason.response.status === 401 || reason.response.status === 403) this.props.history.push(Routes.login);\n        });\n      }\n    };\n\n    this.state = {\n      dish: props.dish\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Box, {\n      m: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      style: cardStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      title: this.props.dish.name,\n      style: {\n        \"size\": \"32px\",\n        fontWeight: 'bold',\n        \"color\": \"#555555\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      style: imageStyle,\n      src: this.props.dish.image_url ? this.props.dish.image_url : \"https://static.vecteezy.com/system/resources/previews/000/129/724/non_2x/free-fast-food-vector.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      color: \"textSecondary\",\n      component: \"p\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }\n    }, this.props.dish.description)), /*#__PURE__*/React.createElement(CardActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.decreasePrice,\n      \"aria-label\": \"Minus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }\n    }, \"-\"), /*#__PURE__*/React.createElement(Typography, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 25\n      }\n    }, this.props.dish.price, \"$\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.increasePrice,\n      \"aria-label\": \"Plus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 25\n      }\n    }, \"+\"), this.context.currentUser ? /*#__PURE__*/React.createElement(Button, {\n      onClick: this.delete,\n      variant: \"contained\",\n      color: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 33\n      }\n    }, \"Remove\") : /*#__PURE__*/React.createElement(React.Fragment, null), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.detail,\n      \"aria-label\": \"Plus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 25\n      }\n    }, \"Detail\"))));\n  }\n\n}\n\nDishView.contextType = AuthContext;\nexport default withRouter(DishView);","map":{"version":3,"sources":["/Users/ilyayelagov/webprojects/mpp_bare/frontent/src/View/DishView.jsx"],"names":["React","Card","CardHeader","CardContent","Box","Typography","CardActions","Button","endpoints","RestRequest","AuthContext","withRouter","Routes","backColor","cardStyle","imageStyle","DishView","Component","constructor","props","detail","history","push","dish","delete","deleteDish","then","response","deleteOne","catch","reason","status","login","increasePrice","context","currentUser","price","put","putDish","state","data","payload","setState","decreasePrice","render","name","fontWeight","image_url","description","contextType"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport Button from \"@material-ui/core/Button\";\nimport {endpoints} from \"../connection/endpoints\";\nimport {RestRequest} from \"../connection/requests\";\nimport {AuthContext} from \"../AuthProvider\";\nimport {withRouter} from \"react-router-dom\";\nimport {Routes} from \"../connection/routes\";\n\nconst backColor = \"#E0E5EC\";\nconst cardStyle = {\n    \"borderRadius\":\"7%\",\n    \"background\":backColor,\n    \"boxShadow\":\"10px 10px 30px #bcbec4, \" +\n        \" -10px -10px 30px #feffff\",\n    \"margin-top\": \"60px\"\n};\n\nconst imageStyle = {\n    \"maxWidth\": \"70%\",\n    \"borderRadius\":\"15px\",\n    \"background\":backColor,\n    \"boxShadow\":\"15px 15px 30px #bcbec4, \" +\n        \" -15px -15px 30px #feffff\"\n};\n\nclass DishView extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {dish: props.dish};\n    }\n\n    detail = () => {\n        this.props.history.push(Routes.dish);\n    }\n\n    delete = () => {\n        RestRequest.delete(endpoints.deleteDish(this.props.dish['_id'])).then((response) => {\n            this.props.deleteOne(this.props.dish);\n        }).catch(reason => {\n            if (reason.response.status === 401 || reason.response.status === 403) this.props.history.push(Routes.login);\n        });\n    };\n\n    increasePrice = () => {\n        if (this.context.currentUser) {\n            let dish = this.props.dish;\n            dish.price++;\n            RestRequest.put(endpoints.putDish(this.props.dish['_id']), {}, dish).then(response => {\n                let dish = this.state.dish;\n                dish.price = response.data.payload.price;\n                this.setState(dish);\n            }).catch(reason => {\n                if (reason.response.status === 401 || reason.response.status === 403) this.props.history.push(Routes.login);\n            });\n        }\n\n    };\n\n    decreasePrice = () => {\n        if (this.context.currentUser) {\n            let dish = this.props.dish;\n            dish.price--;\n            RestRequest.put(endpoints.putDish(this.props.dish['_id']), {}, dish).then(response => {\n                let dish = this.state.dish;\n                dish.price = response.data.payload.price;\n                this.setState(dish);\n            }).catch(reason => {\n                if (reason.response.status === 401 || reason.response.status === 403) this.props.history.push(Routes.login);\n            });\n        }\n\n    };\n\n    render() {\n        return (\n            <Box m={1}>\n                <Card style={cardStyle}>\n                    <CardHeader title={this.props.dish.name} style={{\"size\": \"32px\", fontWeight: 'bold', \"color\": \"#555555\"}}/>\n                    <CardContent>\n                        <img style={imageStyle} src={this.props.dish.image_url ? this.props.dish.image_url:\"https://static.vecteezy.com/system/resources/previews/000/129/724/non_2x/free-fast-food-vector.png\"}\n                        />\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                            {this.props.dish.description}\n                        </Typography>\n                    </CardContent>\n                    <CardActions>\n                        <Button onClick={this.decreasePrice} aria-label=\"Minus\">\n                            -\n                        </Button>\n                        <Typography>\n                            {this.props.dish.price}$\n                        </Typography>\n                        <Button onClick={this.increasePrice} aria-label=\"Plus\">\n                            +\n                        </Button>\n                        {\n                            this.context.currentUser\n                                ?\n                                <Button onClick={this.delete} variant='contained' color='secondary'>\n                                    Remove\n                                </Button>\n                                :\n                                <></>\n                        }\n                        <Button onClick={this.detail} aria-label=\"Plus\">\n                            Detail\n                        </Button>\n\n                    </CardActions>\n                </Card>\n            </Box>\n\n        )\n\n    }\n}\n\nDishView.contextType = AuthContext;\nexport default withRouter(DishView);\n"]},"metadata":{},"sourceType":"module"}