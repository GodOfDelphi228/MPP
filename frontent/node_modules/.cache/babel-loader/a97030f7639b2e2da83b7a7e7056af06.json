{"ast":null,"code":"var _jsxFileName = \"/Users/ilyayelagov/webprojects/mpp_bare/frontent/src/View/DishList.jsx\";\nimport * as React from \"react\";\nimport DishView from \"./DishView\";\nimport { endpoints } from \"../connection/endpoints\";\nimport Container from \"@material-ui/core/Container\";\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport Box from \"@material-ui/core/Box\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport { RestRequest } from \"../connection/requests\";\nimport { Routes } from \"../connection/routes\";\nimport { withRouter } from \"react-router-dom\";\nconst progressBarStyle = {\n  \"borderRadius\": \"7%\",\n  \"background\": \"#EC8800\",\n  \"boxShadow\": \"inline 5px 5px 10px #bcbec4, \" + \"inline -5px -5px 10px #feffff\",\n  \"margin-top\": \"10px\"\n};\n\nclass DishList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.deleteDish = element => {\n      let dish = this.state.dish;\n      let newDishList = dish.filter(dish => !(dish['_id'] === element['_id']));\n      this.setState({\n        dish: newDishList\n      });\n    };\n\n    this.load = order => {\n      this.setState({\n        loading: true\n      });\n      debugger;\n      RestRequest.get(endpoints.getDishList + `?sort=likes&order=${order ? 1 : -1}`).then(response => {\n        debugger;\n        const dish = response.data.payload;\n        this.setState({\n          loading: false,\n          dish,\n          order\n        });\n      }).catch(error => {\n        console.log(error.response);\n        if (error.response.status === 401 || error.response.status === 403) this.props.history.push(Routes.login);\n      });\n    };\n\n    this.topLike = () => {\n      this.load(!this.state.order);\n    };\n\n    this.state = {\n      dish: [],\n      loading: false,\n      order: true\n    };\n  }\n\n  componentDidMount() {\n    this.load(this.state.order);\n  }\n\n  render() {\n    let loading = this.state.loading;\n    let dish = this.state.dish.map(dish => {\n      return /*#__PURE__*/React.createElement(DishView, {\n        deleteOne: this.deleteDish,\n        key: dish['_id'],\n        dish: dish,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 20\n        }\n      });\n    });\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      style: {\n        columnCount: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    }, loading ? /*#__PURE__*/React.createElement(LinearProgress, {\n      style: progressBarStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 40\n      }\n    }) : dish))));\n  }\n\n}\n\nexport default withRouter(DishList);","map":{"version":3,"sources":["/Users/ilyayelagov/webprojects/mpp_bare/frontent/src/View/DishList.jsx"],"names":["React","DishView","endpoints","Container","FavoriteIcon","IconButton","FavoriteBorderIcon","Box","LinearProgress","RestRequest","Routes","withRouter","progressBarStyle","DishList","Component","constructor","props","deleteDish","element","dish","state","newDishList","filter","setState","load","order","loading","get","getDishList","then","response","data","payload","catch","error","console","log","status","history","push","login","topLike","componentDidMount","render","map","columnCount"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport DishView from \"./DishView\";\nimport {endpoints} from \"../connection/endpoints\";\nimport Container from \"@material-ui/core/Container\";\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport Box from \"@material-ui/core/Box\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport {RestRequest} from \"../connection/requests\";\nimport {Routes} from \"../connection/routes\";\nimport {withRouter} from \"react-router-dom\";\n\nconst progressBarStyle = {\n    \"borderRadius\":\"7%\",\n    \"background\": \"#EC8800\",\n    \"boxShadow\":\"inline 5px 5px 10px #bcbec4, \" +\n        \"inline -5px -5px 10px #feffff\",\n    \"margin-top\": \"10px\"\n};\n\nclass DishList extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {dish: [], loading: false, order: true};\n    }\n\n    deleteDish = (element) => {\n        let dish = this.state.dish;\n        let newDishList = dish.filter((dish) => !(dish['_id'] === element['_id']));\n        this.setState({dish: newDishList});\n    };\n\n    componentDidMount() {\n        this.load(this.state.order);\n    }\n\n    load = (order) => {\n        this.setState({loading: true});\n        debugger\n        RestRequest.get(endpoints.getDishList + `?sort=likes&order=${order ? 1 : -1}`)\n            .then((response) => {\n                debugger\n                const dish = response.data.payload;\n                this.setState({loading: false, dish, order});\n            }).catch(error => {\n                console.log(error.response);\n            if (error.response.status === 401 || error.response.status === 403) this.props.history.push(Routes.login);\n        });\n    };\n    topLike = () => {\n        this.load(!this.state.order);\n    };\n\n    render() {\n        let loading = this.state.loading;\n        let dish = this.state.dish.map((dish) => {\n            return <DishView deleteOne={this.deleteDish} key={dish['_id']} dish={dish}/>\n        });\n        return (\n            <React.Fragment>\n                <Container style={{columnCount: 1}}>\n                    <Box>\n                        <Container>\n                            {loading ? <LinearProgress style={progressBarStyle}/> : dish}\n                        </Container>\n                    </Box>\n                </Container>\n            </React.Fragment>)\n    }\n\n}\n\nexport default withRouter(DishList)\n"]},"metadata":{},"sourceType":"module"}