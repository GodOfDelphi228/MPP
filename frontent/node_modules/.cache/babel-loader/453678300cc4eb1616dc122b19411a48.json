{"ast":null,"code":"var _jsxFileName = \"/Users/ilyayelagov/webprojects/mpp_bare/frontent/src/View/DishView.jsx\";\nimport * as React from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport { endpoints } from \"../connection/endpoints\";\nimport { RestRequest } from \"../connection/requests\";\nimport { AuthContext } from \"../AuthProvider\";\nimport { withRouter } from \"react-router-dom\";\nimport { Routes } from \"../connection/routes\";\n\nclass DishView extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.delete = () => {\n      RestRequest.delete(endpoints.deleteNews(this.props.news['_id'])).then(response => {\n        this.props.deleteOne(this.props.news);\n      }).catch(reason => {\n        if (reason.response.status === 401 || reason.response.status === 403) this.props.history.push(Routes.login);\n      });\n    };\n\n    this.like = () => {\n      if (this.context.currentUser) {\n        let news = this.props.news;\n        news.likes++;\n        RestRequest.put(endpoints.putNews(this.props.news['_id']), {}, news).then(response => {\n          let news = this.state.news;\n          news.likes = response.data.payload.likes;\n          this.setState(news);\n        }).catch(reason => {\n          if (reason.response.status === 401 || reason.response.status === 403) this.props.history.push(Routes.login);\n        });\n      }\n    };\n\n    this.state = {\n      dish: props.dish\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Box, {\n      m: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      title: this.props.dish.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      color: \"textSecondary\",\n      component: \"p\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }\n    }, this.props.dish.description)), /*#__PURE__*/React.createElement(CardActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: this.like,\n      \"aria-label\": \"Like\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FavoriteIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Typography, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 25\n      }\n    }, this.props.dish.rating), this.context.currentUser ? /*#__PURE__*/React.createElement(Button, {\n      onClick: this.delete,\n      variant: \"contained\",\n      color: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 33\n      }\n    }, \"Delete\") : /*#__PURE__*/React.createElement(React.Fragment, null))));\n  }\n\n}\n\nDishView.contextType = AuthContext;\nexport default withRouter(DishView);","map":{"version":3,"sources":["/Users/ilyayelagov/webprojects/mpp_bare/frontent/src/View/DishView.jsx"],"names":["React","Card","CardHeader","CardContent","Box","Typography","CardActions","Button","IconButton","FavoriteIcon","endpoints","RestRequest","AuthContext","withRouter","Routes","DishView","Component","constructor","props","delete","deleteNews","news","then","response","deleteOne","catch","reason","status","history","push","login","like","context","currentUser","likes","put","putNews","state","data","payload","setState","dish","render","name","description","rating","contextType"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport {endpoints} from \"../connection/endpoints\";\nimport {RestRequest} from \"../connection/requests\";\nimport {AuthContext} from \"../AuthProvider\";\nimport {withRouter} from \"react-router-dom\";\nimport {Routes} from \"../connection/routes\";\n\nclass DishView extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {dish: props.dish};\n    }\n\n    delete = () => {\n        RestRequest.delete(endpoints.deleteNews(this.props.news['_id'])).then((response) => {\n            this.props.deleteOne(this.props.news);\n        }).catch(reason => {\n            if (reason.response.status === 401 || reason.response.status === 403) this.props.history.push(Routes.login);\n        });\n    };\n\n    like = () => {\n        if (this.context.currentUser) {\n            let news = this.props.news;\n            news.likes++;\n            RestRequest.put(endpoints.putNews(this.props.news['_id']), {}, news).then(response => {\n                let news = this.state.news;\n                news.likes = response.data.payload.likes;\n                this.setState(news);\n            }).catch(reason => {\n                if (reason.response.status === 401 || reason.response.status === 403) this.props.history.push(Routes.login);\n            });\n        }\n\n    };\n\n    render() {\n        return (\n            <Box m={1}>\n                <Card>\n                    <CardHeader title={this.props.dish.name}/>\n                    <CardContent>\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                            {this.props.dish.description}\n                        </Typography>\n                    </CardContent>\n                    <CardActions>\n                        <IconButton onClick={this.like} aria-label=\"Like\">\n                            <FavoriteIcon/>\n                        </IconButton>\n                        <Typography>\n                            {this.props.dish.rating}\n                        </Typography>\n                        {\n                            this.context.currentUser\n                                ?\n                                <Button onClick={this.delete} variant='contained' color='secondary'>\n                                    Delete\n                                </Button>\n                                :\n                                <></>\n                        }\n\n                    </CardActions>\n                </Card>\n            </Box>\n\n        )\n\n    }\n}\n\nDishView.contextType = AuthContext;\nexport default withRouter(DishView);\n"]},"metadata":{},"sourceType":"module"}